Remediation
Upgrade scrapy-splash to version 0.8.0 or later. For example:

scrapy-splash>=0.8.0
Always verify the validity and compatibility of suggestions with your codebase.

Details
GHSA-823f-cwm9-4g74
high severity
Vulnerable versions: < 0.8.0
Patched version: 0.8.0
Impact
If you use HttpAuthMiddleware (i.e. the http_user and http_pass spider attributes) for Splash authentication, any non-Splash request will expose your credentials to the request target. This includes robots.txt requests sent by Scrapy when the ROBOTSTXT_OBEY setting is set to True.

Patches
Upgrade to scrapy-splash 0.8.0 and use the new SPLASH_USER and SPLASH_PASS settings instead to set your Splash authentication credentials safely.

Workarounds
If you cannot upgrade, set your Splash request credentials on a per-request basis, using the splash_headers request parameter, instead of defining them globally using the HttpAuthMiddleware.

Alternatively, make sure all your requests go through Splash. That includes disabling the robots.txt middleware.

For more information
If you have any questions or comments about this advisory:

Open an issue
Email us
